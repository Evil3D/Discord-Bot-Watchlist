<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>All Invites Display</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  h2 { color: #333; }
  ul { list-style: none; padding-left: 0; }
  li { margin-bottom: 8px; }
  a { color: #1a0dab; text-decoration: none; }
  a:hover { text-decoration: underline; }
</style>
</head>
<body>

<h2>Normal Invites</h2>
<ul id="normal-invites"></ul>

<h2>Internet Archive Invites</h2>
<ul id="internet-archive-invites"></ul>

<script>
  // This should be your full README content as a string
  const readme = `  
  ## Normal Invites
  - BotOne: https://discord.com/invite/botone
  - BotTwo: https://discord.com/invite/bottwo

  ## Internet Archive Invites
  - ArchiveBot: https://discord.com/invite/archivebot
  - AnotherArchiveBot: https://discord.com/invite/anotherarchivebot
  `;

  function extractInvites(sectionTitle) {
    // Build regex dynamically to capture the section by its title and the following list items
    const regex = new RegExp(
      `##\\s*${sectionTitle.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')}\\s*\\n((?:[-*].+\\n?)+)`,
      'i'
    );
    const match = readme.match(regex);
    if (!match) return [];
    
    // Split the list items and extract name + invite link
    return match[1]
      .trim()
      .split('\n')
      .map(line => {
        const parts = line.replace(/^[-*]\s*/, '').split(':');
        return { name: parts[0].trim(), invite: parts[1].trim() };
      });
  }

  const normalInvites = extractInvites('Normal Invites');
  const internetArchiveInvites = extractInvites('Internet Archive Invites');

  function renderInvites(invites, containerId) {
    const container = document.getElementById(containerId);
    if (invites.length === 0) {
      container.innerHTML = '<li>No invites found.</li>';
      return;
    }
    container.innerHTML = invites
      .map(
        invite =>
          `<li><strong>${invite.name}</strong>: <a href="${invite.invite}" target="_blank">${invite.invite}</a></li>`
      )
      .join('');
  }

  renderInvites(normalInvites, 'normal-invites');
  renderInvites(internetArchiveInvites, 'internet-archive-invites');
</script>

</body>
</html>
